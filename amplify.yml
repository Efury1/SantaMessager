version: 1
frontend:
  phases:
    preBuild:
      commands:
        - cd frontend
        - yarn install
    build:
      commands:
        - cd frontend  # Ensure we are in frontend directory
        - yarn start   # Start the frontend application
  artifacts:
    baseDirectory: frontend/build  # Adjust this if your build output directory is different
    files:
      - '**/*'
  cache:
    paths:
      - frontend/node_modules/**/*

# Backend configuration might be added here as a custom build command or separate process
backend:
  commands:
    # Change to the backend directory and start the server
    - cd backend
    - node server.js
